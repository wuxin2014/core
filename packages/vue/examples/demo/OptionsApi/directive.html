<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>自定义指令 directive-debugger</title>
    <style>
      body {
        font-family: Menlo, Consolas, monospace;
        color: #444;
      }
    </style>
    <script src="../../../dist/vue.global.js"></script>
  </head>
  <body>
    <!-- App template (in DOM) -->
    <div id="app">
      <input v-model="name" v-focus />
    </div>
    <script>
      // v-pin="200"
      // app.directive('pin', {
      //   mounted(el, binding, vnode) {
      //     el.style.position = 'fixed'
      //     el.style.top = binding.value + 'px'
      //   }
      // })
      // // 动态指令参数 v-pin:[direction]="200"  direction:'left'
      // app.directive('pin', {
      //   mounted(el, binding, vnode) {
      //     el.style.position = 'fixed'
      //     var s = (binding.arg == 'left' ? 'left' : 'top')
      //     el.style[s] = binding.value + 'px'
      //   }
      // })
      // // <div id="hook-arguments-example" v-demo:foo.a.b="message"></div>
      // app.directive('demo', {
      //   mounted(el, binding, vnode) {
      //     // binding对象: { name: 'demo', value: message变量值, expression: message, arg: foo, modifiers: {a:true, b:true}}
      //   }
      // })
      const app = Vue.createApp({
        data() {
          return {
            name: 'haha'
          }
        },
        // 自定义指令的定义
        directives: {
          focus: {
            // 在绑定元素的attribute前或事件监听器应用前调用
            created(el, binding, vnode, prevVnode) {},
            // 在元素被插入到 DOM 前调用
            beforeMount(el, binding, vnode, prevVnode) {},
            // 在绑定元素的父组件及他自己的所有子节点都挂载完成后调用
            mounted(el, binding, vnode, prevVnode) {
              el.focus()
            },
            // 绑定元素的父组件更新前调用
            beforeUpdate(el, binding, vnode, prevVnode) {},
            // 在绑定元素的父组件及他自己的所有子节点都更新后调用
            updated(el, binding, vnode, prevVnode) {},
            // 绑定元素的父组件卸载前调用
            beforeUnmount(el, binding, vnode, prevVnode) {},
            // 绑定元素的父组件卸载后调用
            unmounted(el, binding, vnode, prevVnode) {}
          }
        },
        methods: {
          showAge() {
            console.log('====')
          }
        }
      }).mount('#app')



      // (function anonymous() {
      //   const _Vue = Vue
      //   const {  } = _Vue

      //   const _hoisted_1 = ["onUpdate:modelValue"]

      //   return function render(_ctx, _cache) {
      //     with (_ctx) {
      //       const { vModelText: _vModelText, resolveDirective: _resolveDirective, withDirectives: _withDirectives, openBlock: _openBlock, createElementBlock: _createElementBlock } = _Vue

      //       const _directive_focus = _resolveDirective("focus")

      //       return _withDirectives((_openBlock(), _createElementBlock("input", {
      //         "onUpdate:modelValue": $event => ((name) = $event)
      //       }, null, 8 /* PROPS */, _hoisted_1)), [
      //         [_vModelText, name],
      //         [_directive_focus, ]
      //       ])
      //     }
      //   }
      // })
    </script>
  </body>
</html>