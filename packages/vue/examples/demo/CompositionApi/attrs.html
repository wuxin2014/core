<script src="../../../dist/vue.global.js"></script>
<script type="text/x-template" id="custom-comp">
  <button @click="$emit('click-a', '1234')">透传Attribute: {{ $attrs }}</button>
</script>
<script>
  /**
   * 透传attribute指的是传递给一个组件，却没有被该组件声明为 props 或 emits 的 attribute 或者 v-on 事件监听器。最常见的例子就是 class、style 和 id。
   * 当一个组件以单个元素为根作渲染时，透传的attribute会自动被添加到根元素上
   * 如果你不想要一个组件自动地继承 attribute，你可以在组件选项中设置 inheritAttrs: false。
   */ 
  const CustomComp = {
    template: '#custom-comp',
    props: ['name'], // 声明传递的属性，以便setup函数的props能取到值
    // inheritAttrs: false,
    setup(props, { emit }) {
      
    }
  }
</script>
<!-- App template (in DOM) -->
<div id="demo">
  <div id="search">
    <custom-comp @click-a="handleCallback" :name="name" :age="age" class="red" />
  </div>
</div>
<!-- App script -->
<script>
  const { createApp, ref } = Vue
  createApp({
    components: {
      CustomComp
    },
    setup() {
      const name = ref('child')
      const age = ref(1000)
      const handleCallback = (data) => {
        console.log('父组件定义的子组件事件回调===', data)
      }
      return {
        name,
        age,
        handleCallback 
      }
    }
  }).mount('#demo')
</script>

<style>
body {
  font-family: Helvetica Neue, Arial, sans-serif;
  font-size: 14px;
  color: #444;
}

.red {
  color: red;
}
</style>