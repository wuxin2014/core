<script src="../../../dist/vue.global.js"></script>
<script type="text/x-template" id="custom-comp">
  <div style="padding: 10px 0">
    <button @click="handleClick">子组件-{{count}}</button>
  </div>
</script>
<script>
  const CustomComp = {
    template: '#custom-comp',
    setup(props, { expose }) {
      const count = Vue.ref(0)
      const handleClick = () => {
        count.value += 1
      }
      expose({count})
      return { count, handleClick }
    }
  }
  </script>
<!-- App template (in DOM) -->
<div id="demo">
  <button @click="handleClick">父组件-change-子组件值</button>
  <custom-comp ref="cusRef" />
</div>
<script>
  Vue.createApp({
    components: {
      CustomComp
    },
    setup() {
      const cusRef = Vue.ref()
      const handleClick =  () => {
        debugger
        cusRef.value.count = 20
      }
     
      return {
        cusRef,
        handleClick
      }
    }
  }).mount('#demo')


  // (function anonymous() {
  //   const _Vue = Vue
  //   const { createVNode: _createVNode, createElementVNode: _createElementVNode } = _Vue

  //   const _hoisted_1 = ["onClick"]

  //   return function render(_ctx, _cache) {
  //     with (_ctx) {
  //       const { createElementVNode: _createElementVNode, resolveComponent: _resolveComponent, createVNode: _createVNode, Fragment: _Fragment, openBlock: _openBlock, createElementBlock: _createElementBlock } = _Vue

  //       const _component_custom_comp = _resolveComponent("custom-comp")

  //       return (_openBlock(), _createElementBlock(_Fragment, null, [
  //         _createElementVNode("button", { onClick: handleClick }, "父组件-change-子组件值", 8 /* PROPS */, _hoisted_1),
  //         _createVNode(_component_custom_comp, { ref: "cusRef" }, null, 512 /* NEED_PATCH */)
  //       ], 64 /* STABLE_FRAGMENT */))
  //     }
  //   }
  // })

  // (function anonymous() {
  //   const _Vue = Vue
  //   const { createElementVNode: _createElementVNode } = _Vue

  //   const _hoisted_1 = { style: {"padding":"10px 0"} }
  //   const _hoisted_2 = ["onClick"]

  //   return function render(_ctx, _cache) {
  //     with (_ctx) {
  //       const { toDisplayString: _toDisplayString, createElementVNode: _createElementVNode, openBlock: _openBlock, createElementBlock: _createElementBlock } = _Vue

  //       return (_openBlock(), _createElementBlock("div", _hoisted_1, [
  //         _createElementVNode("button", { onClick: handleClick }, "子组件-" + _toDisplayString(count), 9 /* TEXT, PROPS */, _hoisted_2)
  //       ]))
  //     }
  //   }
  // })
</script>

<style>
body {
  font-family: Helvetica Neue, Arial, sans-serif;
  font-size: 14px;
  color: #444;
}

.red {
    color: red;
}
</style>