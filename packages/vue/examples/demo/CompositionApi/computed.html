<script src="../../../dist/vue.global.js"></script>
<!-- App template (in DOM) -->
<div id="demo">
  <div @click="handleClick">{{ comValue }}</div>
  <div>{{ comValue }}</div>
</div>
<script>
  Vue.createApp({
    setup() {
      debugger
      const person = Vue.reactive({ name: '夏末', age: 19 })
      const handleClick = () => {
        person.age++
        person.age++
      }
      // 1. 创建一个只读的计算属性
      const comValue = Vue.computed(() => { return `${person.name}-${person.age}` })

      // const count = Vue.ref(0)
      // // 2. 创建一个可读写的计算属性
      // const countComputed = Vue.computed({
      //   set: (val) => {
      //     count.value = val
      //   },
      //   get: () => {
      //     return count.value
      //   }
      // })

      return {
        person,
        comValue,
        handleClick
      }
    }
  }).mount('#demo')

  // (function anonymous() {
  //   const _Vue = Vue
  //   const { createElementVNode: _createElementVNode } = _Vue

  //   const _hoisted_1 = ["onClick"]

  //   return function render(_ctx, _cache) {
  //     with (_ctx) {
  //       const { toDisplayString: _toDisplayString, createElementVNode: _createElementVNode, Fragment: _Fragment, openBlock: _openBlock, createElementBlock: _createElementBlock } = _Vue

  //       return (_openBlock(), _createElementBlock(_Fragment, null, [
  //         _createElementVNode("div", { onClick: handleClick }, _toDisplayString(comValue), 9 /* TEXT, PROPS */, _hoisted_1),
  //         _createElementVNode("div", null, _toDisplayString(comValue), 1 /* TEXT */)
  //       ], 64 /* STABLE_FRAGMENT */))
  //     }
  //   }
  // })

  // 读取handleClick先过RuntimeCompiledPublicInstanceProxyHandlers的has函数，再过其get函数;读取comValue时， 流程一样
</script>

<style>
body {
  font-family: Helvetica Neue, Arial, sans-serif;
  font-size: 14px;
  color: #444;
}

.red {
    color: red;
}
</style>