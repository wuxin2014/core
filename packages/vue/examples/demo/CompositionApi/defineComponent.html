<script src="../../../dist/vue.global.js"></script>
<!-- App template (in DOM) -->
<div id="demo">
  <div>
    <div>{{ state.foo }}</div>
    <Comp />
  </div>
</div>
<script>
  // defineComponent() 还有一种备用签名，旨在与组合式 API 和 渲染函数或 JSX 一起使用
  const Comp = Vue.defineComponent(
    (props) => {
      // 就像在 <script setup> 中一样使用组合式 API
      const count = Vue.ref(0)
      return () => {
        // 渲染函数或 JSX
        return Vue.h('div', count.value)
        // return (<div>{{ count }}</div>)
      }
    },
    // 其他选项，例如声明 props 和 emits。
    {
      props: {}
    }
  )

  const Comp2 = Vue.defineComponent({
    name: 'App',
    template: '<div>子组件使用defineComponent定义-{{name}}</div>',
    setup() {
      const name = Vue.ref('hha')
      return {
        name
      }
    }
  })
  Vue.createApp({
    components: {
      Comp: Comp2
    },
    setup() {
      debugger
      const state = { foo: 1, bar: 2 }
      const reactiveState = Vue.reactive(state)
      return {
        state
      }
    }
  }).mount('#demo')
</script>

<style>
body {
  font-family: Helvetica Neue, Arial, sans-serif;
  font-size: 14px;
  color: #444;
}

.red {
  color: red;
}
</style>