<script src="../../../dist/vue.global.js"></script>
<!-- App template (in DOM) -->
<div id="demo">
  <button @click="handleClick">{{ state.foo }}</button>
</div>
<script>
  Vue.createApp({
    setup() {
      debugger
      const state = { foo: 1, bar: 2 }
      const reactiveState = Vue.reactive(state)
      // toRaw拿到原始对象
      console.log(Vue.toRaw(reactiveState) === state) // true
      
      // markRaw() 将一个对象标记为不可被转为代理。返回该对象本身
      const foo = Vue.markRaw({ a: 1 })
      const reactiveFoo = Vue.reactive(foo)
      console.log(Vue.isReactive(reactiveFoo)) // false

      // 也适用于嵌套在其他响应性对象
      // const bar = reactive({ foo })
      // console.log(isReactive(bar.foo)) // false
      
      const handleClick = () => {
        console.log('==handleClick==')
        state.foo++
      }
      return {
        state,
        handleClick
      }
    }
  }).mount('#demo')
</script>

<style>
body {
  font-family: Helvetica Neue, Arial, sans-serif;
  font-size: 14px;
  color: #444;
}

.red {
    color: red;
}
</style>