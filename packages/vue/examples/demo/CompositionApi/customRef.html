<script src="../../../dist/vue.global.js"></script>
<!-- App template (in DOM) -->
<div id="demo">
  <p>{{ text }}</p>
  <input v-model="text" />
</div>
<script>
  Vue.createApp({
    setup() {
      debugger
      let timeout = null
      let value = 'hello'
      const text = Vue.customRef((track, trigger) => {
        return {
          get() {
            track()
            return value
          },
          set(newValue) {
            clearTimeout(timeout)
            timeout = setTimeout(() => {
              value = newValue
              trigger()
            }, 1000)
          }
        }
      })
      return {
        text
      }
    }
  }).mount('#demo')


  // (function anonymous() {
  //   const _Vue = Vue
  //   const { createElementVNode: _createElementVNode } = _Vue

  //   const _hoisted_1 = ["onUpdate:modelValue"]

  //   return function render(_ctx, _cache) {
  //     with (_ctx) {
  //       const { toDisplayString: _toDisplayString, createElementVNode: _createElementVNode, vModelText: _vModelText, withDirectives: _withDirectives, Fragment: _Fragment, openBlock: _openBlock, createElementBlock: _createElementBlock } = _Vue

  //       return (_openBlock(), _createElementBlock(_Fragment, null, [
  //         _createElementVNode("p", null, _toDisplayString(text), 1 /* TEXT */),
  //         _withDirectives(_createElementVNode("input", {
  //           "onUpdate:modelValue": $event => ((text) = $event)
  //         }, null, 8 /* PROPS */, _hoisted_1), [
  //           [_vModelText, text]
  //         ])
  //       ], 64 /* STABLE_FRAGMENT */))
  //     }
  //   }
  // })
</script>

<style>
body {
  font-family: Helvetica Neue, Arial, sans-serif;
  font-size: 14px;
  color: #444;
}

.red {
    color: red;
}
</style>